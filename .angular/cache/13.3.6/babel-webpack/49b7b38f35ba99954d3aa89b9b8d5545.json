{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"../api.service\";\nimport * as i2 from \"@angular/router\";\nimport * as i3 from \"@angular/common\";\n\nfunction CartComponent_tbody_46_tr_1_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r7 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"tr\")(1, \"th\", 5);\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"td\");\n    i0.ɵɵelement(4, \"img\", 6)(5, \"br\")(6, \"br\");\n    i0.ɵɵelementStart(7, \"div\", 7)(8, \"div\")(9, \"button\", 8);\n    i0.ɵɵlistener(\"click\", function CartComponent_tbody_46_tr_1_Template_button_click_9_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r7);\n      const each_r4 = restoredCtx.$implicit;\n      const ctx_r6 = i0.ɵɵnextContext(2);\n      return ctx_r6.increaseQty(each_r4.name, each_r4.cakeid, each_r4.price, each_r4.weight, each_r4.image);\n    });\n    i0.ɵɵtext(10, \"+\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(11, \" Qty \");\n    i0.ɵɵelementStart(12, \"button\", 9);\n    i0.ɵɵlistener(\"click\", function CartComponent_tbody_46_tr_1_Template_button_click_12_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r7);\n      const each_r4 = restoredCtx.$implicit;\n      const ctx_r8 = i0.ɵɵnextContext(2);\n      return ctx_r8.decreaseQty(each_r4.cakeid);\n    });\n    i0.ɵɵtext(13, \"-\");\n    i0.ɵɵelementEnd()()()();\n    i0.ɵɵelementStart(14, \"th\", 10);\n    i0.ɵɵtext(15);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(16, \"th\", 10);\n    i0.ɵɵtext(17);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(18, \"th\", 10);\n    i0.ɵɵtext(19);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(20, \"th\", 10);\n    i0.ɵɵtext(21);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(22, \"th\", 10);\n    i0.ɵɵtext(23);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(24, \"th\", 10);\n    i0.ɵɵtext(25);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(26, \"th\", 10)(27, \"button\", 11);\n    i0.ɵɵlistener(\"click\", function CartComponent_tbody_46_tr_1_Template_button_click_27_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r7);\n      const each_r4 = restoredCtx.$implicit;\n      const ctx_r9 = i0.ɵɵnextContext(2);\n      return ctx_r9.removeitem(each_r4.cakeid);\n    });\n    i0.ɵɵtext(28, \"Remove\");\n    i0.ɵɵelementEnd()()();\n  }\n\n  if (rf & 2) {\n    const each_r4 = ctx.$implicit;\n    const i_r5 = ctx.index;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(i_r5 + 1);\n    i0.ɵɵadvance(2);\n    i0.ɵɵpropertyInterpolate(\"src\", each_r4.image, i0.ɵɵsanitizeUrl);\n    i0.ɵɵadvance(11);\n    i0.ɵɵtextInterpolate(each_r4.name);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(each_r4.cakeid);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(each_r4.createdat);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(each_r4.quantity);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(each_r4.price);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(each_r4.price * each_r4.quantity);\n  }\n}\n\nfunction CartComponent_tbody_46_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"tbody\");\n    i0.ɵɵtemplate(1, CartComponent_tbody_46_tr_1_Template, 29, 8, \"tr\", 4);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r0.datafetched);\n  }\n}\n\nfunction CartComponent_tfoot_47_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"tfoot\");\n    i0.ɵɵelement(1, \"th\")(2, \"th\")(3, \"th\")(4, \"th\")(5, \"th\");\n    i0.ɵɵelementStart(6, \"th\")(7, \"h4\");\n    i0.ɵɵtext(8, \"Grand Total\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(9, \"th\")(10, \"h4\");\n    i0.ɵɵtext(11, \"to be calculated\");\n    i0.ɵɵelementEnd()()();\n  }\n}\n\nfunction CartComponent_div_48_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵelement(1, \"br\")(2, \"br\")(3, \"br\");\n    i0.ɵɵelementStart(4, \"h2\", 12);\n    i0.ɵɵtext(5, \"Cart is empty. Please add item to cart to show here...\");\n    i0.ɵɵelementEnd()();\n  }\n}\n\nexport let CartComponent = /*#__PURE__*/(() => {\n  class CartComponent {\n    constructor(api, route) {\n      this.api = api;\n      this.route = route;\n      this.showtable = false;\n    }\n\n    ngOnInit() {\n      console.log(\"ngoninit starts\");\n      this.api.recievecart().subscribe({\n        next: response => {\n          console.log(\"\\n\\n\\nrec response = \", response);\n          this.datafetched = response.data;\n          console.log(\"response.data = \", response.data);\n          console.log(\"\\nthis.datafetched = \", this.datafetched);\n\n          if (response.data.length > 0) {\n            console.log(\"response.data has value\");\n            this.showtable = true;\n          }\n        },\n        error: error => {}\n      });\n    }\n\n    decreaseQty(cakeid1) {\n      var body = {\n        cakeid: cakeid1\n      };\n      this.api.decquantity(body).subscribe({\n        next: response => {\n          console.log(\"decrease quantity response : \", response);\n          this.message = response.message;\n          this.ngOnInit(); // window.location.reload()\n        },\n        error: error => {}\n      });\n    }\n\n    increaseQty(name1, cakeid1, price1, weight1, image1) {\n      var body = {\n        name: name1,\n        price: price1,\n        cakeid: cakeid1,\n        weight: weight1,\n        image: image1\n      };\n      this.api.cart(body).subscribe({\n        next: response => {\n          console.log(\"response = \", response);\n          this.ngOnInit();\n        },\n        error: error => {}\n      });\n    }\n\n    removeitem(cakeid1) {\n      console.clear();\n      console.log(\"cake id from cart page = \", cakeid1);\n      var body = {\n        cakeid: cakeid1\n      };\n      this.api.removeitem(body).subscribe({\n        next: response => {\n          console.log(\"response = \", response);\n          this.message = response.message;\n          this.ngOnInit(); // this.datafetched.splice(this.datafetched.findIndex((a:any) => a.id === cakeid1) , 1)\n        },\n        error: error => {}\n      });\n    }\n\n  }\n\n  CartComponent.ɵfac = function CartComponent_Factory(t) {\n    return new (t || CartComponent)(i0.ɵɵdirectiveInject(i1.ApiService), i0.ɵɵdirectiveInject(i2.Router));\n  };\n\n  CartComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: CartComponent,\n    selectors: [[\"app-cart\"]],\n    decls: 53,\n    vars: 4,\n    consts: [[2, \"text-align\", \"center\", \"color\", \"BLUE\"], [1, \"table\", 2, \"border\", \"5px solid brown\"], [\"scope\", \"col\"], [4, \"ngIf\"], [4, \"ngFor\", \"ngForOf\"], [\"scope\", \"row\", 2, \"text-align\", \"center\", \"vertical-align\", \"middle\"], [\"alt\", \"no image\", \"height\", \"150px\", \"width\", \"150px\", 3, \"src\"], [2, \"border\", \"2px solid brown\", \"text-align\", \"center\", \"width\", \"150px\", \"height\", \"50px\", \"padding-top\", \"5px\"], [1, \"btn\", \"btn-success\", 3, \"click\"], [1, \"btn\", \"btn-warning\", 3, \"click\"], [2, \"text-align\", \"center\", \"vertical-align\", \"middle\"], [1, \"btn\", \"btn-danger\", 3, \"click\"], [2, \"text-align\", \"center\"]],\n    template: function CartComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelement(0, \"br\")(1, \"br\")(2, \"br\");\n        i0.ɵɵelementStart(3, \"div\")(4, \"div\")(5, \"h1\", 0);\n        i0.ɵɵtext(6, \"ITEMS PRESENT IN CART \");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelement(7, \"hr\")(8, \"br\")(9, \"br\")(10, \"br\")(11, \"br\");\n        i0.ɵɵtext(12);\n        i0.ɵɵelement(13, \"br\")(14, \"br\");\n        i0.ɵɵelementStart(15, \"div\")(16, \"table\", 1)(17, \"thead\")(18, \"tr\")(19, \"th\", 2)(20, \"h4\");\n        i0.ɵɵtext(21, \"S. No.\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(22, \"th\", 2)(23, \"h4\");\n        i0.ɵɵtext(24, \"Image\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(25, \"th\", 2)(26, \"h4\");\n        i0.ɵɵtext(27, \"Name\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(28, \"th\", 2)(29, \"h4\");\n        i0.ɵɵtext(30, \"ID\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(31, \"th\", 2)(32, \"h4\");\n        i0.ɵɵtext(33, \"Date Created\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(34, \"th\", 2)(35, \"h4\");\n        i0.ɵɵtext(36, \"Quantity\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(37, \"th\", 2)(38, \"h4\");\n        i0.ɵɵtext(39, \"Price\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(40, \"th\", 2)(41, \"h4\");\n        i0.ɵɵtext(42, \"Total Price\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(43, \"th\", 2)(44, \"h4\");\n        i0.ɵɵtext(45, \"Remove Item\");\n        i0.ɵɵelementEnd()()()();\n        i0.ɵɵtemplate(46, CartComponent_tbody_46_Template, 2, 1, \"tbody\", 3);\n        i0.ɵɵtemplate(47, CartComponent_tfoot_47_Template, 12, 0, \"tfoot\", 3);\n        i0.ɵɵelementEnd()()();\n        i0.ɵɵtemplate(48, CartComponent_div_48_Template, 6, 0, \"div\", 3);\n        i0.ɵɵelement(49, \"br\")(50, \"br\")(51, \"br\")(52, \"br\");\n      }\n\n      if (rf & 2) {\n        i0.ɵɵadvance(12);\n        i0.ɵɵtextInterpolate1(\" \", ctx.message, \" \");\n        i0.ɵɵadvance(34);\n        i0.ɵɵproperty(\"ngIf\", ctx.showtable);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.showtable);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", !ctx.showtable);\n      }\n    },\n    directives: [i3.NgIf, i3.NgForOf],\n    styles: [\"\"]\n  });\n  return CartComponent;\n})();","map":null,"metadata":{},"sourceType":"module"}