{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/router\";\nimport * as i2 from \"@angular/common/http\";\nimport * as i3 from \"../api.service\";\nexport let CakedetailsComponent = /*#__PURE__*/(() => {\n  class CakedetailsComponent {\n    constructor(routes, http, api, route) {\n      this.routes = routes;\n      this.http = http;\n      this.api = api;\n      this.route = route;\n      this.cake = [];\n      this.cakecartarray = {\n        name: \"\",\n        cakeid: \"\",\n        price: \"\",\n        weight: \"\",\n        image: \"\"\n      };\n      this.cakeid = this.routes.snapshot.paramMap.get(\"cakeid\");\n      console.log(this.cakeid);\n      var url = \"https://apifromashu.herokuapp.com/api/cake/\" + this.cakeid;\n      this.http.get(url).subscribe({\n        next: response => {\n          console.log(response);\n          this.cake = response.data;\n          console.log(this.cake);\n        }\n      });\n    }\n\n    ngOnInit() {} // \"https://apifromashu.herokuapp.com/api/addcaketocart\"\n    //  , requestobj - {name,cakeid,price,weight,image} \n    // along with the headers where header name is authtoken. \n    // Value of the token will be what they got in response when they do login api \n\n\n    add_to_cart() {\n      console.clear();\n      console.log(\"add to cart clicked\");\n      this.cakecartarray.name = this.cake.name;\n      this.cakecartarray.price = this.cake.price;\n      this.cakecartarray.cakeid = this.cake.cakeid;\n      this.cakecartarray.weight = this.cake.weight;\n      this.cakecartarray.image = this.cake.image;\n      console.log(this.cakecartarray);\n\n      if (localStorage[\"token\"]) {\n        this.api.cart(this.cakecartarray).subscribe({\n          next: response => {\n            console.log(\"response = \", response);\n\n            if (response.data.name) {\n              this.message = response.message;\n            }\n          },\n          error: error => {}\n        });\n      } else {\n        this.route.navigate([\"/login\"]);\n      }\n    }\n\n  }\n\n  CakedetailsComponent.ɵfac = function CakedetailsComponent_Factory(t) {\n    return new (t || CakedetailsComponent)(i0.ɵɵdirectiveInject(i1.ActivatedRoute), i0.ɵɵdirectiveInject(i2.HttpClient), i0.ɵɵdirectiveInject(i3.ApiService), i0.ɵɵdirectiveInject(i1.Router));\n  };\n\n  CakedetailsComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: CakedetailsComponent,\n    selectors: [[\"app-cakedetails\"]],\n    decls: 44,\n    vars: 10,\n    consts: [[2, \"text-align\", \"center\"], [1, \"row\"], [1, \"col\"], [\"alt\", \"...\", \"height\", \"600px\", \"width\", \"900px\", 2, \"margin-left\", \"50px\", 3, \"src\"], [1, \"card\", \"col-3\", 2, \"border\", \"2px solid red\", \"width\", \"600px\", \"height\", \"600px\"], [1, \"card-body\"], [1, \"card-title\", 2, \"color\", \"brown\"], [1, \"card-text\"], [\"href\", \"#\", 1, \"btn\", \"btn-primary\"], [1, \"btn\", \"btn-success\", 3, \"click\"], [2, \"margin-left\", \"600px\"], [\"href\", \"/search\", 1, \"btn\", \"btn-danger\"]],\n    template: function CakedetailsComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"p\");\n        i0.ɵɵtext(1, \"cakedetails works!\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(2, \"h1\", 0);\n        i0.ɵɵtext(3, \"Cake Details page\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(4, \"br\")(5, \"br\")(6, \"br\");\n        i0.ɵɵelementStart(7, \"div\", 1)(8, \"div\", 2);\n        i0.ɵɵelement(9, \"img\", 3);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(10, \"div\", 2)(11, \"div\", 4)(12, \"div\", 5)(13, \"h1\", 6);\n        i0.ɵɵtext(14);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(15, \"br\");\n        i0.ɵɵelementStart(16, \"h5\", 7);\n        i0.ɵɵtext(17);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(18, \"h5\", 7);\n        i0.ɵɵtext(19);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(20, \"h5\", 7);\n        i0.ɵɵtext(21);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(22, \"h5\", 7);\n        i0.ɵɵtext(23);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(24, \"h5\", 7);\n        i0.ɵɵtext(25);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(26, \"h5\", 7);\n        i0.ɵɵtext(27);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(28, \"br\");\n        i0.ɵɵelementStart(29, \"a\", 8);\n        i0.ɵɵtext(30);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(31, \"br\")(32, \"br\");\n        i0.ɵɵelementStart(33, \"button\", 9);\n        i0.ɵɵlistener(\"click\", function CakedetailsComponent_Template_button_click_33_listener() {\n          return ctx.add_to_cart();\n        });\n        i0.ɵɵtext(34, \"Add to Cart\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵtext(35);\n        i0.ɵɵelementEnd()()()();\n        i0.ɵɵelement(36, \"br\")(37, \"br\");\n        i0.ɵɵelementStart(38, \"div\", 10)(39, \"a\", 11);\n        i0.ɵɵtext(40, \"Back to Search page\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelement(41, \"br\")(42, \"br\")(43, \"br\");\n      }\n\n      if (rf & 2) {\n        i0.ɵɵadvance(9);\n        i0.ɵɵpropertyInterpolate(\"src\", ctx.cake.image, i0.ɵɵsanitizeUrl);\n        i0.ɵɵadvance(5);\n        i0.ɵɵtextInterpolate(ctx.cake.name);\n        i0.ɵɵadvance(3);\n        i0.ɵɵtextInterpolate1(\"ID - \", ctx.cake.cakeid, \"\");\n        i0.ɵɵadvance(2);\n        i0.ɵɵtextInterpolate1(\"Flavour - \", ctx.cake.flavour, \"\");\n        i0.ɵɵadvance(2);\n        i0.ɵɵtextInterpolate1(\"Rating - \", ctx.cake.ratings, \"\");\n        i0.ɵɵadvance(2);\n        i0.ɵɵtextInterpolate1(\"Reviews - \", ctx.cake.reviews, \"\");\n        i0.ɵɵadvance(2);\n        i0.ɵɵtextInterpolate1(\"Ingredients - \", ctx.cake.ingredients, \"\");\n        i0.ɵɵadvance(2);\n        i0.ɵɵtextInterpolate1(\"Desc. - \", ctx.cake.description, \"\");\n        i0.ɵɵadvance(3);\n        i0.ɵɵtextInterpolate1(\"Price - Rs. \", ctx.cake.price, \"\");\n        i0.ɵɵadvance(5);\n        i0.ɵɵtextInterpolate1(\" \", ctx.message, \" \");\n      }\n    },\n    styles: [\"\"]\n  });\n  return CakedetailsComponent;\n})();","map":null,"metadata":{},"sourceType":"module"}